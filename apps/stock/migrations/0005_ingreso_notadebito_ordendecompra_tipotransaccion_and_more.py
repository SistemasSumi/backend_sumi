# Generated by Django 4.0.2 on 2023-01-20 16:18

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('configuracion', '0008_alter_retencionesclientes_options_and_more'),
        ('stock', '0004_remove_productos_marca'),
    ]

    operations = [
        migrations.CreateModel(
            name='Ingreso',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('numero', models.CharField(max_length=20, verbose_name='Numero:')),
                ('consecutivo', models.IntegerField()),
                ('prefijo', models.CharField(max_length=20, verbose_name='Prefijo:')),
                ('factura', models.CharField(max_length=50, verbose_name='Factura:')),
                ('fecha', models.DateField(verbose_name='Fecha:')),
                ('observacion', models.TextField(default='')),
                ('subtotal', models.FloatField()),
                ('iva', models.FloatField()),
                ('retencion', models.FloatField()),
                ('descuento', models.FloatField()),
                ('total', models.FloatField()),
                ('formaPago', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='ingreso_forma_pago', to='configuracion.formapago')),
                ('numeracion', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='ingreso_numeracion', to='configuracion.numeracion')),
            ],
            options={
                'verbose_name': 'Ingreso',
                'verbose_name_plural': 'Ingresos',
                'db_table': 'ingreso',
            },
        ),
        migrations.CreateModel(
            name='NotaDebito',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('tipoDeNota', models.CharField(choices=[('1', 'Adición de productos'), ('2', 'Aumento de precios')], max_length=50, verbose_name='Tipo de nota:')),
                ('numero', models.CharField(max_length=50, verbose_name='Numero:')),
                ('consecutivo', models.IntegerField()),
                ('prefijo', models.CharField(max_length=50, verbose_name='Prefijo:')),
                ('factura', models.CharField(max_length=50, verbose_name='Factura:')),
                ('observacion', models.TextField()),
                ('fecha', models.DateField(verbose_name='Fecha:')),
                ('valorTotal', models.FloatField()),
                ('iva', models.FloatField()),
                ('retencion', models.FloatField()),
                ('ingreso', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='nota_debito_ingreso', to='stock.ingreso')),
                ('numeracion', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='nota_debito_numeracion', to='configuracion.numeracion')),
                ('proveedor', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='nota_debito_proveedor', to='configuracion.terceros')),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='nota_debito_usuario', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'NotaDebito',
                'verbose_name_plural': 'NotaDebitos',
                'db_table': 'notadebitocompras',
            },
        ),
        migrations.CreateModel(
            name='OrdenDeCompra',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('numero', models.CharField(max_length=20, verbose_name='Numero:')),
                ('consecutivo', models.IntegerField()),
                ('prefijo', models.CharField(max_length=20, verbose_name='Prefijo:')),
                ('fecha', models.DateTimeField(verbose_name='Fecha:')),
                ('observacion', models.TextField(default='')),
                ('subtotal', models.FloatField()),
                ('iva', models.FloatField()),
                ('retencion', models.FloatField()),
                ('descuento', models.FloatField()),
                ('total', models.FloatField()),
                ('formaPago', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='orden_forma_pago', to='configuracion.formapago')),
                ('numeracion', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='numeracion_orden', to='configuracion.numeracion')),
                ('proveedor', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='Orden_de_compra_tercero', to='configuracion.terceros')),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='orden_usuario', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Orden de compra',
                'verbose_name_plural': 'Orden de Compras',
                'db_table': 'ordendecompra',
            },
        ),
        migrations.CreateModel(
            name='TipoTransaccion',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('asociado', models.BooleanField(choices=[('1', True), ('0', False)], verbose_name='Asociado:')),
            ],
            options={
                'verbose_name': 'TipoTransaccion',
                'verbose_name_plural': 'TipoTransacciones',
                'db_table': 'tipotransaccion',
            },
        ),
        migrations.AddField(
            model_name='inventario',
            name='laboratorio',
            field=models.CharField(default='JGB', max_length=150, verbose_name='Laboratorio:'),
            preserve_default=False,
        ),
        migrations.AlterField(
            model_name='kardex',
            name='tercero',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='kardexs_terceros', to='configuracion.terceros'),
        ),
        migrations.AlterField(
            model_name='productos',
            name='impuesto',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='productos_impuesto', to='configuracion.impuestos'),
        ),
        migrations.AlterField(
            model_name='productos',
            name='tipoProducto',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='productos_tipo_producto', to='stock.tipoproducto'),
        ),
        migrations.AlterField(
            model_name='productos',
            name='usuario',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='productos_usuario', to=settings.AUTH_USER_MODEL),
        ),
        migrations.CreateModel(
            name='RetencionOrden',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('base', models.FloatField()),
                ('porcentaje', models.FloatField()),
                ('total', models.FloatField()),
                ('orden', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='retencion_orden_orden', to='stock.ordendecompra')),
                ('retencion', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='retencion_orden_retencion', to='configuracion.retenciones')),
            ],
            options={
                'verbose_name': 'Retencion de orden',
                'verbose_name_plural': 'Retencion de ordenes',
                'db_table': 'retencionorden',
            },
        ),
        migrations.CreateModel(
            name='RetencionIngreso',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('base', models.FloatField()),
                ('procentaje', models.FloatField()),
                ('total', models.FloatField()),
                ('ingreso', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='retencion_ingreso', to='stock.ingreso')),
                ('retencion', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='retecion_ingreso_retencion', to='configuracion.retenciones')),
            ],
            options={
                'verbose_name': 'RetencionIngreso',
                'verbose_name_plural': 'RetencionIngresos',
                'db_table': 'retencioningreso',
            },
        ),
        migrations.CreateModel(
            name='PagosCompras',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('numero', models.CharField(max_length=50, verbose_name='Numero:')),
                ('factura', models.CharField(max_length=50, verbose_name='Factura:')),
                ('consecutivo', models.CharField(max_length=50, verbose_name='Consecutivo:')),
                ('prefijo', models.CharField(max_length=50, verbose_name='Prefijo:')),
                ('fecha', models.DateField(verbose_name='Fecha:')),
                ('concepto', models.TextField(verbose_name='Concepto:')),
                ('ValorAbono', models.FloatField(default=0)),
                ('dto', models.FloatField(default=0)),
                ('ingreso', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pagos_ingreso', to='stock.ingreso')),
                ('numeracion', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='pagos_numeracion', to='configuracion.numeracion')),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='pagos_usuario', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'PagosCompra',
                'verbose_name_plural': 'PagosCompras',
                'db_table': 'pagoscompras',
            },
        ),
        migrations.CreateModel(
            name='NotaDebitoDetalle',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('lote', models.CharField(max_length=50, verbose_name='Lote:')),
                ('cantidad', models.IntegerField()),
                ('valorUnidad', models.FloatField()),
                ('iva', models.FloatField()),
                ('subtotal', models.FloatField()),
                ('nota', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='nota_debito_nota', to='stock.notadebito')),
                ('producto', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='nota_producto', to='stock.productos')),
            ],
            options={
                'verbose_name': 'NotaDebitoDetalle',
                'verbose_name_plural': 'NotaDebitoDetalles',
                'db_table': 'notadebitodetallecompras',
            },
        ),
        migrations.CreateModel(
            name='NotaCredito',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('prefijo', models.CharField(max_length=50, verbose_name='Prefijo:')),
                ('consecutivo', models.CharField(max_length=50, verbose_name='Consecutivo:')),
                ('numero', models.CharField(max_length=50, verbose_name='Numero:')),
                ('tipoNota', models.CharField(choices=[('1', 'Devoluciones'), ('2', 'Rebajas o disminución de precio'), ('3', 'Rebajas o descuento parcial o total'), ('4', 'Correción a item')], max_length=50, verbose_name='Tipo de nota:')),
                ('tipoCorrecion', models.CharField(blank=True, choices=[('FACTURA', 'Correción factura'), ('FECHA', 'Correción fecha'), ('ITEM', 'Correción item')], max_length=50, null=True, verbose_name='Tipo de correccion:')),
                ('factura', models.CharField(max_length=50, verbose_name='Factura:')),
                ('contabilizado', models.BooleanField(default=False)),
                ('observacion', models.TextField()),
                ('numeroNota', models.CharField(blank=True, max_length=50, null=True, verbose_name='Numero de nota:')),
                ('ingreso', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='nota_creedito_ingreso', to='stock.ingreso')),
                ('nuemracion', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='nota_credito_numeracion', to='configuracion.numeracion')),
                ('proveedor', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='nota_credito_proveedor', to='configuracion.terceros')),
            ],
            options={
                'verbose_name': 'NotaCredito',
                'verbose_name_plural': 'NotaCreditos',
                'db_table': 'notacreditocompras',
            },
        ),
        migrations.CreateModel(
            name='IngresoDetalle',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('cantidad', models.IntegerField()),
                ('fechaVencimiento', models.DateField(verbose_name='Fecha de vencimiento:')),
                ('laboratorio', models.CharField(max_length=50, verbose_name='Laboratorio:')),
                ('lote', models.CharField(max_length=50, verbose_name='Lote:')),
                ('valorUnidad', models.FloatField()),
                ('descuento', models.FloatField()),
                ('iva', models.IntegerField()),
                ('ingreso', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='ingreso_detalle_ingreso', to='stock.ingreso')),
                ('producto', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='ingreso_producto', to='stock.productos')),
            ],
            options={
                'verbose_name': 'IngresoDetalle',
                'verbose_name_plural': 'IngresoDetalles',
                'db_table': 'ingresodetalle',
            },
        ),
        migrations.AddField(
            model_name='ingreso',
            name='orden',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='ingreso_orden', to='stock.ordendecompra'),
        ),
        migrations.AddField(
            model_name='ingreso',
            name='proveedor',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='ingreso_proveedor', to='configuracion.terceros'),
        ),
        migrations.AddField(
            model_name='ingreso',
            name='usuario',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='ingreso_usuario', to=settings.AUTH_USER_MODEL),
        ),
        migrations.CreateModel(
            name='ImpuestoOrden',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('base', models.FloatField()),
                ('procentaje', models.FloatField()),
                ('total', models.FloatField()),
                ('impuesto', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='impuesto_orden_impuesto', to='configuracion.impuestos')),
                ('orden', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='impuesto_orden', to='stock.ordendecompra')),
            ],
            options={
                'verbose_name': 'Impuesto de orden',
                'verbose_name_plural': 'Impuesto de ordenes',
                'db_table': 'impuesto_orden',
            },
        ),
        migrations.CreateModel(
            name='ImpuestoIngreso',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('base', models.FloatField()),
                ('procentaje', models.FloatField()),
                ('total', models.FloatField()),
                ('impuesto', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='impuesto_ingreso_impuesto', to='configuracion.impuestos')),
                ('ingreso', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='impuesto_ingreso', to='stock.ingreso')),
            ],
            options={
                'verbose_name': 'ImpuestoIngreso',
                'verbose_name_plural': 'ImpuestoIngresos',
                'db_table': 'impuestoingreso',
            },
        ),
        migrations.CreateModel(
            name='DetalleOrden',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('cantidad', models.IntegerField()),
                ('valorUnidad', models.FloatField()),
                ('descuento', models.FloatField()),
                ('iva', models.IntegerField()),
                ('orden', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='detalle_orden', to='stock.ordendecompra')),
                ('producto', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='detalle_producto', to='stock.productos')),
            ],
            options={
                'verbose_name': 'Detalle de Orden',
                'verbose_name_plural': 'Detalle de Ordenes',
                'db_table': 'detalleorden',
            },
        ),
        migrations.CreateModel(
            name='DetalleNotaCredito',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('lote', models.CharField(max_length=50, verbose_name='Lote:')),
                ('cantidad', models.IntegerField()),
                ('valorUnidad', models.FloatField(default=0)),
                ('iva', models.FloatField(default=0)),
                ('subtotal', models.FloatField(default=0)),
                ('nota', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='detalle_nota', to='stock.notacredito')),
                ('producto', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='detalle_ptodutco', to='stock.productos')),
            ],
            options={
                'verbose_name': 'DetalleNotaCredito',
                'verbose_name_plural': 'DetalleNotaCreditos',
                'db_table': 'notacreditodetalle',
            },
        ),
        migrations.CreateModel(
            name='CxPCompras',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('factura', models.CharField(max_length=50, verbose_name='Factura:')),
                ('fecha', models.DateField(verbose_name='Fecha:')),
                ('fechaVencimiento', models.DateField(verbose_name='Fecha de Vencimiento:')),
                ('observacion', models.CharField(max_length=120, verbose_name='Observación:')),
                ('base', models.FloatField(default=0)),
                ('iva', models.FloatField(default=0)),
                ('valorAbono', models.FloatField(default=0)),
                ('reteFuente', models.FloatField(default=0)),
                ('reteIca', models.FloatField(default=0)),
                ('valorTotal', models.FloatField(default=0)),
                ('formaPago', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='cxpcompras_forma_pago', to='configuracion.formapago')),
                ('ingreso', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='cxpcompras_ingreso', to='stock.ingreso')),
                ('proveedor', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='cxpcompras_proveedor', to='configuracion.terceros')),
            ],
            options={
                'verbose_name': 'CxPCompras',
                'verbose_name_plural': 'CxPComprass',
                'db_table': 'cxpcompras',
            },
        ),
    ]
